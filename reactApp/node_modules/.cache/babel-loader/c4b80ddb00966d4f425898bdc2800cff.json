{"ast":null,"code":"import _objectSpread from \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _classCallCheck from \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/taras/PycharmProjects/students-app/article-sources/React-book-app/src/groups.js\";\nimport React from 'react';\nexport var GroupDashboard =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(GroupDashboard, _React$Component);\n\n  function GroupDashboard() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, GroupDashboard);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(GroupDashboard)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      groups: []\n    };\n\n    _this.createNewGroup = function (group) {\n      fetch('http://localhost:8000/api/groups/', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(group)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (group) {\n        _this.setState({\n          groups: _this.state.groups.concat([group])\n        });\n      });\n    };\n\n    _this.updateGroup = function (newGroup) {\n      fetch(\"http://localhost:8000/api/groups/\".concat(newGroup.id, \"/\"), {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(newGroup)\n      }).then(function (response) {\n        return response.json();\n      }).then(function (newGroup) {\n        var newGroups = _this.state.groups.map(function (group) {\n          if (group.id === newGroup.id) {\n            return Object.assign({}, newGroup);\n          } else {\n            return group;\n          }\n        });\n\n        _this.setState({\n          groups: newGroups\n        });\n      });\n    };\n\n    _this.deleteGroup = function (groupId) {\n      fetch(\"http://localhost:8000/api/groups/\".concat(groupId, \"/\"), {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function () {\n        _this.setState({\n          groups: _this.state.groups.filter(function (group) {\n            return group.id !== groupId;\n          })\n        });\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(GroupDashboard, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch('http://localhost:8000/api/groups/').then(function (response) {\n        return response.json();\n      }).then(function (data) {\n        _this2.setState({\n          groups: data\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"main\", {\n        className: \"d-flex justify-content-center my-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"col-8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(GroupList, {\n        groups: this.state.groups,\n        onDeleteClick: this.deleteGroup,\n        onUpdateClick: this.updateGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(ToggleableGroupForm, {\n        onGroupCreate: this.createNewGroup,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return GroupDashboard;\n}(React.Component);\n\nvar GroupList =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(GroupList, _React$Component2);\n\n  function GroupList() {\n    _classCallCheck(this, GroupList);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(GroupList).apply(this, arguments));\n  }\n\n  _createClass(GroupList, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var groups = this.props.groups.map(function (group) {\n        return React.createElement(EditableGroup, {\n          key: group.id,\n          id: group.id,\n          name: group.name,\n          description: group.description,\n          onDeleteClick: _this3.props.onDeleteClick,\n          onUpdateClick: _this3.props.onUpdateClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83\n          },\n          __self: this\n        });\n      });\n      return React.createElement(\"table\", {\n        class: \"table\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"name\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"created\"), React.createElement(\"th\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"action\"))), groups);\n    }\n  }]);\n\n  return GroupList;\n}(React.Component);\n\nvar ToggleableGroupForm =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(ToggleableGroupForm, _React$Component3);\n\n  function ToggleableGroupForm() {\n    var _getPrototypeOf3;\n\n    var _this4;\n\n    _classCallCheck(this, ToggleableGroupForm);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this4 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(ToggleableGroupForm)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this4.state = {\n      inCreateMode: false\n    };\n\n    _this4.handleCreateClick = function () {\n      _this4.setState({\n        inCreateMode: true\n      });\n    };\n\n    _this4.leaveCreateMode = function () {\n      _this4.setState({\n        inCreateMode: false\n      });\n    };\n\n    _this4.handleCancleClick = function () {\n      _this4.leaveCreateMode();\n    };\n\n    _this4.handleFormSubmit = function (group) {\n      _this4.leaveCreateMode();\n\n      _this4.props.onGroupCreate(group);\n    };\n\n    return _this4;\n  }\n\n  _createClass(ToggleableGroupForm, [{\n    key: \"render\",\n    value: function render() {\n      if (this.state.inCreateMode) {\n        return React.createElement(\"div\", {\n          className: \"mb-3 p-4\",\n          style: {\n            boxShadow: '0 0 10px #ccc'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(GroupForm, {\n          onFormSubmit: this.handleFormSubmit,\n          onCancelClick: this.handleCancleClick,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }));\n      }\n\n      return React.createElement(\"button\", {\n        onClick: this.handleCreateClick,\n        className: \"btn btn-secondary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 138\n        },\n        __self: this\n      }, \"Add User\");\n    }\n  }]);\n\n  return ToggleableGroupForm;\n}(React.Component);\n\nvar GroupForm =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(GroupForm, _React$Component4);\n\n  function GroupForm() {\n    var _getPrototypeOf4;\n\n    var _this5;\n\n    _classCallCheck(this, GroupForm);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(GroupForm)).call.apply(_getPrototypeOf4, [this].concat(args)));\n    _this5.state = {\n      name: _this5.props.name || '',\n      description: _this5.props.description || ''\n    };\n\n    _this5.handleFormSubmit = function (evt) {\n      evt.preventDefault();\n\n      _this5.props.onFormSubmit(_objectSpread({}, _this5.state));\n    };\n\n    _this5.handleNameUpdate = function (evt) {\n      _this5.setState({\n        name: evt.target.value\n      });\n    };\n\n    _this5.handleAuthorUpdate = function (evt) {\n      _this5.setState({\n        description: evt.target.value\n      });\n    };\n\n    _this5.handleDescriptionUpdate = function (evt) {\n      _this5.setState({\n        group: evt.target.value\n      });\n    };\n\n    return _this5;\n  }\n\n  _createClass(GroupForm, [{\n    key: \"render\",\n    value: function render() {\n      var buttonText = this.props.id ? 'Update Group' : 'Create Group';\n      return React.createElement(\"form\", {\n        onSubmit: this.handleFormSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 170\n        },\n        __self: this\n      }, \"Name\"), React.createElement(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter a name\",\n        value: this.state.name,\n        onChange: this.handleNameUpdate,\n        className: \"form-control\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180\n        },\n        __self: this\n      }, \"Description\"), React.createElement(\"textarea\", {\n        className: \"form-control\",\n        placeholder: \"Group group\",\n        rows: \"5\",\n        value: this.state.description,\n        onChange: this.handleDescriptionUpdate,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, this.state.description)), React.createElement(\"div\", {\n        className: \"form-group d-flex justify-content-between\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-md btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, buttonText), React.createElement(\"button\", {\n        type: \"button\",\n        className: \"btn btn-md btn-secondary\",\n        onClick: this.props.onCancelClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195\n        },\n        __self: this\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return GroupForm;\n}(React.Component);\n\nvar EditableGroup =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(EditableGroup, _React$Component5);\n\n  function EditableGroup() {\n    var _getPrototypeOf5;\n\n    var _this6;\n\n    _classCallCheck(this, EditableGroup);\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    _this6 = _possibleConstructorReturn(this, (_getPrototypeOf5 = _getPrototypeOf(EditableGroup)).call.apply(_getPrototypeOf5, [this].concat(args)));\n    _this6.state = {\n      inEditMode: false\n    };\n\n    _this6.enterEditMode = function () {\n      _this6.setState({\n        inEditMode: true\n      });\n    };\n\n    _this6.leaveEditMode = function () {\n      _this6.setState({\n        inEditMode: false\n      });\n    };\n\n    _this6.handleDelete = function () {\n      _this6.props.onDeleteClick(_this6.props.id);\n    };\n\n    _this6.handleUpdate = function (group) {\n      _this6.leaveEditMode();\n\n      group.id = _this6.props.id;\n\n      _this6.props.onUpdateClick(group);\n    };\n\n    return _this6;\n  }\n\n  _createClass(EditableGroup, [{\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var component_form = function component_form() {\n        if (_this7.state.inEditMode) {\n          return React.createElement(GroupForm, {\n            id: _this7.props.id,\n            name: _this7.props.name,\n            description: _this7.props.description,\n            onCancelClick: _this7.leaveEditMode,\n            onFormSubmit: _this7.handleUpdate,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 229\n            },\n            __self: this\n          });\n        }\n\n        return React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 238\n          },\n          __self: this\n        });\n      };\n\n      var component = function component() {\n        return React.createElement(Group, {\n          name: _this7.props.name,\n          description: _this7.props.description,\n          onEditClick: _this7.enterEditMode,\n          onDeleteClick: _this7.handleDelete,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 242\n          },\n          __self: this\n        });\n      };\n\n      return React.createElement(\"tbody\", {\n        style: {\n          boxShadow: '0 0 10px #ccc'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }, component(), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253\n        },\n        __self: this\n      }, component_form()));\n    }\n  }]);\n\n  return EditableGroup;\n}(React.Component);\n\nvar Group =\n/*#__PURE__*/\nfunction (_React$Component6) {\n  _inherits(Group, _React$Component6);\n\n  function Group() {\n    _classCallCheck(this, Group);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Group).apply(this, arguments));\n  }\n\n  _createClass(Group, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 264\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 265\n        },\n        __self: this\n      }, this.props.name), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268\n        },\n        __self: this\n      }, this.props.description), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 271\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 272\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        onClick: this.props.onEditClick,\n        className: \"mr-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"far fa-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 273\n        },\n        __self: this\n      }, \"Edit\")), React.createElement(\"span\", {\n        onClick: this.props.onDeleteClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, React.createElement(\"i\", {\n        className: \"fas fa-trash\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 274\n        },\n        __self: this\n      }, \"Delete\")))));\n    }\n  }]);\n\n  return Group;\n}(React.Component);","map":{"version":3,"sources":["/home/taras/PycharmProjects/students-app/article-sources/React-book-app/src/groups.js"],"names":["React","GroupDashboard","state","groups","createNewGroup","group","fetch","method","headers","body","JSON","stringify","then","response","json","setState","concat","updateGroup","newGroup","id","newGroups","map","Object","assign","deleteGroup","groupId","filter","data","Component","GroupList","props","name","description","onDeleteClick","onUpdateClick","ToggleableGroupForm","inCreateMode","handleCreateClick","leaveCreateMode","handleCancleClick","handleFormSubmit","onGroupCreate","boxShadow","GroupForm","evt","preventDefault","onFormSubmit","handleNameUpdate","target","value","handleAuthorUpdate","handleDescriptionUpdate","buttonText","onCancelClick","EditableGroup","inEditMode","enterEditMode","leaveEditMode","handleDelete","handleUpdate","component_form","component","Group","onEditClick"],"mappings":"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","sourcesContent":["import React from 'react';\n\n\nexport class GroupDashboard extends React.Component {\n\tstate = {\n\t\tgroups: []\n\t}\n\n\tcomponentDidMount() {\n\t\tfetch('http://localhost:8000/api/groups/')\n\t\t\t.then(response => response.json())\n\t\t\t.then(data => {\n\t\t\t\tthis.setState({groups: data});\n\t\t\t})\n\t}\n\n\tcreateNewGroup = (group) => {\n\t\tfetch('http://localhost:8000/api/groups/', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(group),\n\t\t}).then(response => response.json())\n\t\t.then(group => {\n\t\t\tthis.setState({groups: this.state.groups.concat([group])});\n\t\t});\n\t}\n\n\tupdateGroup = (newGroup) => {\n\t\tfetch(`http://localhost:8000/api/groups/${newGroup.id}/`, {\n\t\t\tmethod: 'PUT',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t\tbody: JSON.stringify(newGroup),\n\t\t}).then(response => response.json())\n\t\t.then(newGroup => {\n\t\t\tconst newGroups = this.state.groups.map(group => {\n\t\t\t\tif(group.id === newGroup.id) {\n\t\t\t\t\treturn Object.assign({}, newGroup)\n\t\t\t\t} else {\n\t\t\t\t\treturn group;\n\t\t\t\t}\n\t\t\t});\n\t\t\tthis.setState({groups: newGroups});\n\t\t});\n\t}\n\n\tdeleteGroup = (groupId) => {\n\t\tfetch(`http://localhost:8000/api/groups/${groupId}/`, {\n\t\t\tmethod: 'DELETE',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/json',\n\t\t\t},\n\t\t})\n\t\t.then(() => {\n\t\t\tthis.setState({groups: this.state.groups.filter(group => group.id !== groupId)})\n\t\t});\n\n\t}\n\trender() {\n\t\treturn (\n\t\t\t<main className=\"d-flex justify-content-center my-4\">\n\t\t\t\t<div  className=\"col-8\">\n\t\t\t\t\t<GroupList\n\t\t\t\t\t\tgroups={this.state.groups}\n\t\t\t\t\t\tonDeleteClick={this.deleteGroup}\n\t\t\t\t\t\tonUpdateClick={this.updateGroup}\n\t\t\t\t\t/>\n\t\t\t\t\t<ToggleableGroupForm\n\t\t\t\t\t\tonGroupCreate={this.createNewGroup}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</main>\n\t\t)\n\t}\n}\n\nclass GroupList extends React.Component {\n\trender() {\n\t\tconst groups = this.props.groups.map(group => (\n\t\t\t<EditableGroup\n\tkey={group.id}\n\tid={group.id}\n\tname={group.name}\n\tdescription={group.description}\n\tonDeleteClick={this.props.onDeleteClick}\n\tonUpdateClick={this.props.onUpdateClick}\n\n\t/>\n\t\t));\n\n\t\treturn (\n\t\t\t <table class=\"table\">\n\t\t\t\t <thead>\n\t\t\t\t\t  <tr >\n\t\t\t\t\t\t  <th>name</th>\n\t\t\t\t\t\t  <th>created</th>\n\t\t\t\t\t\t  <th>action</th>\n\t\t\t\t\t  </tr>\n\t\t\t\t  </thead>\n\t\t\t\t{groups}\n\t\t\t </table>\n\t\t);\n\t}\n}\n\nclass ToggleableGroupForm extends React.Component {\n\tstate = {\n\t\tinCreateMode: false\n\t}\n\thandleCreateClick = () => {\n\t\tthis.setState({inCreateMode: true});\n\t}\n\tleaveCreateMode = () => {\n\t\tthis.setState({inCreateMode: false});\n\t}\n\thandleCancleClick = () => {\n\t\tthis.leaveCreateMode();\n\t}\n\thandleFormSubmit = (group) => {\n\t\tthis.leaveCreateMode();\n\t\tthis.props.onGroupCreate(group);\n\t}\n\trender() {\n\t\tif (this.state.inCreateMode) {\n\t\t\treturn (\n\t\t\t\t<div className=\"mb-3 p-4\" style={{boxShadow: '0 0 10px #ccc'}} >\n\t\t\t\t\t<GroupForm\n\t\t\t\t\t\tonFormSubmit={this.handleFormSubmit}\n\t\t\t\t\t\tonCancelClick={this.handleCancleClick}></GroupForm>\n\t\t\t\t</div>\n\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<button onClick={this.handleCreateClick} className=\"btn btn-secondary\">\n\t\t\t\tAdd User\n\t\t\t</button>\n\t\t);\n\t}\n}\n\nclass GroupForm extends React.Component {\n\tstate = {\n\t\tname: this.props.name || '',\n\t\tdescription: this.props.description || ''\n\t}\n\n\thandleFormSubmit = (evt) => {\n\t\tevt.preventDefault();\n\t\tthis.props.onFormSubmit({...this.state});\n\t}\n\thandleNameUpdate = (evt) => {\n\t\tthis.setState({name: evt.target.value});\n\t}\n\thandleAuthorUpdate = (evt) => {\n\t\tthis.setState({description: evt.target.value});\n\t}\n\thandleDescriptionUpdate = (evt) => {\n\t\tthis.setState({group: evt.target.value});\n\t}\n\n\trender() {\n\t\tconst buttonText = this.props.id ? 'Update Group': 'Create Group';\n\t\treturn (\n\t\t\t<form onSubmit={this.handleFormSubmit}>\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\tName\n\t\t\t\t\t</label>\n\t\t\t\t\t<input type=\"text\" placeholder=\"Enter a name\"\n\t\t\t\t\t\tvalue={this.state.name} onChange={this.handleNameUpdate}\n\t\t\t\t\t\tclassName=\"form-control\"\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group\">\n\t\t\t\t\t<label>\n\t\t\t\t\t\tDescription\n\t\t\t\t\t</label>\n\t\t\t\t\t<textarea className=\"form-control\" placeholder=\"Group group\"\n\t\t\t\t\t\trows=\"5\" value={this.state.description}\n\t\t\t\t\t\tonChange={this.handleDescriptionUpdate}\n\t\t\t\t\t>\n\t\t\t\t\t\t{this.state.description}\n\t\t\t\t\t</textarea>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"form-group d-flex justify-content-between\">\n\t\t\t\t\t<button type=\"submit\" className=\"btn btn-md btn-primary\">\n\t\t\t\t\t\t{buttonText}\n\t\t\t\t\t</button>\n\t\t\t\t\t<button type=\"button\" className=\"btn btn-md btn-secondary\" onClick={this.props.onCancelClick}>\n\t\t\t\t\t\tCancel\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t)\n\t}\n}\n\nclass EditableGroup extends React.Component {\n\tstate = {\n\t\tinEditMode: false\n\t};\n\n\tenterEditMode = () => {\n\t\tthis.setState({inEditMode: true});\n\t}\n\n\tleaveEditMode = () => {\n\t\tthis.setState({inEditMode: false});\n\t}\n\thandleDelete = () => {\n\t\tthis.props.onDeleteClick(this.props.id);\n\t}\n\thandleUpdate = (group) => {\n\t\tthis.leaveEditMode()\n\t\tgroup.id = this.props.id;\n\t\tthis.props.onUpdateClick(group);\n\t}\n\n\trender() {\n\t\tconst component_form = () => {\n\t\t\tif(this.state.inEditMode) {\n\t\t\t\treturn (\n\t\t\t\t\t<GroupForm\n\t\t\t\t\t\tid={this.props.id}\n\t\t\t\t\t\tname={this.props.name}\n\t\t\t\t\t\tdescription={this.props.description}\n\t\t\t\t\t\tonCancelClick={this.leaveEditMode}\n\t\t\t\t\t\tonFormSubmit={this.handleUpdate}\n\t\t\t\t\t/>\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn(<p></p>)\n\t\t}\n\t\tconst component = () => {\n\t\t\treturn (\n\t\t\t\t<Group\n\t\t\t\t\tname={this.props.name}\n\t\t\t\t\tdescription={this.props.description}\n\t\t\t\t\tonEditClick={this.enterEditMode}\n\t\t\t\t\tonDeleteClick={this.handleDelete}\n\t\t\t\t/>\n\t\t\t)\n\t\t}\n\t\treturn (\n\t\t\t<tbody  style={{boxShadow: '0 0 10px #ccc'}} >\n\t\t\t\t{component()}\n\t\t\t<div>\n\t\t\t\t{component_form()}\n\t\t\t\t</div>\n\t\t\t</tbody>\n\t\t)\n\t}\n}\n\nclass Group extends React.Component {\n\trender() {\n\t\treturn (\n\t\t\t<tr >\n\t\t\t\t<td>\n\t\t\t\t\t{this.props.name}\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t{this.props.description}\n\t\t\t\t</td>\n\t\t\t\t<td>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<span onClick={this.props.onEditClick} className=\"mr-2\"><i className=\"far fa-edit\">Edit</i></span>\n\t\t\t\t\t\t<span onClick={this.props.onDeleteClick}><i className=\"fas fa-trash\">Delete</i></span>\n\t\t\t\t\t</div>\n\t\t\t\t</td>\n\t\t\t</tr>\n\t\t);\n\t}\n}"]},"metadata":{},"sourceType":"module"}